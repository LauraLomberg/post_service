# О проекте

Post Service — часть микросервисного приложения CorporationX, социальной сети для совместной работы над проектами и стартапами. Проект состоит из независимых сервисов, связанных через асинхронный обмен событиями (Kafka, Redis). Основная цель — дать пользователям возможность создавать команды, публиковать контент, взаимодействовать друг с другом и развивать проекты.  
Система построена на event-driven архитектуре, что обеспечивает масштабируемость, устойчивость и асинхронную обработку нагрузок.

# Что делает Post Service
* Публикация постов пользователями и проектами  
* Комментирование постов  
* Реализация системы лайков для постов и комментариев  
* Генерация персонализированной ленты новостей (News Feed)  
* Кэширование постов и авторов в Redis для быстрого доступа  
* Асинхронная публикация событий в Kafka при создании поста, комментария, лайка и просмотра  
* Обработка этих событий для обновления лент подписчиков  

# Что я реализовала

### Сервис лайков
Сервис лайков отвечает за возможность ставить и убирать лайки под постами и комментариями.

**Реализовано:**
* Создала контроллер и сервис (`LikeController` и `LikeService`) с REST-эндпоинтами для добавления и удаления лайков с соблюдением бизнес-правил:
  * пользователь не может поставить два лайка на один и тот же пост или комментарий  
  * проверка существования автора лайка и поста/комментария  
* Организовала сохранение лайков в базе через `LikeRepository` с корректной обработкой существующих записей  
* Логирование действий через Slf4j  
* Использование DTO и MapStruct для преобразования данных между слоями  
* Unit-тесты, покрытие >70%  

### Лента новостей (News Feed)
Лента новостей формирует персонализированный фид постов для каждого пользователя с учётом подписок и активности. Сервис обеспечивает быстрый доступ к актуальному контенту и корректную обработку большого объёма событий.

**Реализовано:**
* Эндпоинт `/feed` для получения персонализированной ленты пользователя  
* Асинхронная обработка событий создания поста через Kafka с учётом конкурентного добавления нескольких постов в один и тот же фид  
* Идемпотентное добавление новых постов в Redis с сохранением порядка (новые сверху) и ограничением размера фида до 500 постов, чтобы исключить дублирование при повторной обработке событий  
* Кэширование постов в Redis с TTL в 24 часа для ускорения выдачи фида. Посты хранятся в ZSet для сортировки по времени публикации  
* Обеспечение корректной обработки конкурентных событий без дублирования данных  
* Логирование действий через Slf4j  
* Unit-тесты, покрытие >70%  
